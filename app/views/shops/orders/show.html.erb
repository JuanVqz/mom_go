<h1 class="text-2xl font-semibold mb-4">Order <%= @order.number %></h1>

<div class="mb-6">
  <p><strong>Status:</strong> <%= @order.status.titleize %></p>
  <p><strong>Total items:</strong> <%= @order.total_item_count %></p>
  <p><strong>Total:</strong> <%= number_to_currency(@order.total_cents / 100.0, unit: @order.currency) %></p>
</div>

<% @order.order_items.each do |item| %>
  <section class="border rounded px-4 py-3 mb-4">
    <h2 class="text-xl font-medium"><%= item.product_name %></h2>
    <% if item.size_name.present? %>
      <p class="text-gray-600">Size: <%= item.size_name %></p>
    <% end %>
    <p class="text-gray-600">Status: <%= item.status.titleize %></p>
    <p class="text-gray-600">Price: <%= number_to_currency(item.price_cents / 100.0, unit: @order.currency) %></p>

    <% if item.order_item_components.any? %>
      <div class="mt-3">
        <p class="font-semibold">Components</p>
        <ul class="list-disc list-inside text-gray-700">
          <% item.order_item_components.each do |component| %>
            <li><%= component.component_name %> â€” <%= component.portion.humanize %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </section>
<% end %>

<%= link_to "Create another order", new_shops_order_path, class: "inline-block mt-4 text-indigo-600" %>
