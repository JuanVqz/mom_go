<section class="max-w-md mx-auto py-12">
  <h1 class="text-2xl font-semibold text-center mb-6">
    Choose a new password
  </h1>

  <% if flash[:alert] %>
    <div class="mb-4 rounded border border-red-200 bg-red-50 px-4 py-2 text-red-700">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <%= form_with model: @password_reset_form, url: shops_password_reset_path(token: params[:token]), class: "space-y-6" do |form| %>
    <%= hidden_field_tag :token, params[:token] %>

    <div>
      <%= form.label :password, class: "block text-sm font-medium" %>
      <%= form.password_field :password, autocomplete: "new-password", class: "mt-1 w-full rounded border px-3 py-2" %>
      <% if @password_reset_form.errors[:password].present? %>
        <p class="mt-1 text-sm text-red-600"><%= @password_reset_form.errors[:password].to_sentence %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :password_confirmation, class: "block text-sm font-medium" %>
      <%= form.password_field :password_confirmation, autocomplete: "new-password", class: "mt-1 w-full rounded border px-3 py-2" %>
      <% if @password_reset_form.errors[:password_confirmation].present? %>
        <p class="mt-1 text-sm text-red-600"><%= @password_reset_form.errors[:password_confirmation].to_sentence %></p>
      <% end %>
    </div>

    <%= form.submit "Update password", class: "w-full rounded bg-gray-900 px-4 py-2 text-white" %>
  <% end %>

  <p class="mt-6 text-center text-sm">
    <%= link_to "Back to sign in", new_shops_session_path, class: "text-gray-700 underline" %>
  </p>
</section>
